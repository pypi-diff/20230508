# Comparing `tmp/pxpx-3.2.0-py3-none-any.whl.zip` & `tmp/pxpx-3.3.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,33 +1,33 @@
-Zip file size: 63115 bytes, number of entries: 31
+Zip file size: 63582 bytes, number of entries: 31
 -rw-r--r--  2.0 unx        0 b- defN 22-May-26 13:37 px/__init__.py
 -rw-r--r--  2.0 unx     8089 b- defN 23-Feb-15 19:45 px/px.py
 -rw-r--r--  2.0 unx     4304 b- defN 22-Jul-07 18:49 px/px_category_bar.py
--rw-r--r--  2.0 unx    10546 b- defN 23-Feb-16 05:38 px/px_commandline.py
+-rw-r--r--  2.0 unx    11877 b- defN 23-May-08 10:34 px/px_commandline.py
 -rw-r--r--  2.0 unx     3110 b- defN 22-Jul-07 19:02 px/px_cpuinfo.py
 -rw-r--r--  2.0 unx     2253 b- defN 22-May-28 16:40 px/px_cwdfriends.py
 -rw-r--r--  2.0 unx      661 b- defN 22-May-28 16:40 px/px_exec_util.py
--rw-r--r--  2.0 unx     8678 b- defN 22-Jul-08 16:44 px/px_file.py
+-rw-r--r--  2.0 unx     8678 b- defN 23-May-08 05:16 px/px_file.py
 -rw-r--r--  2.0 unx     1345 b- defN 22-Jul-08 16:44 px/px_install.py
 -rw-r--r--  2.0 unx    11742 b- defN 22-Jul-08 16:44 px/px_ioload.py
 -rw-r--r--  2.0 unx    11553 b- defN 22-Jul-08 16:44 px/px_ipc_map.py
 -rw-r--r--  2.0 unx     4776 b- defN 22-May-28 16:40 px/px_launchcounter.py
--rw-r--r--  2.0 unx     3394 b- defN 22-Jul-08 16:44 px/px_load.py
+-rw-r--r--  2.0 unx     3414 b- defN 23-May-08 05:17 px/px_load.py
 -rw-r--r--  2.0 unx     4578 b- defN 22-May-28 16:40 px/px_loginhistory.py
 -rw-r--r--  2.0 unx     8478 b- defN 22-Jul-07 19:02 px/px_meminfo.py
 -rw-r--r--  2.0 unx     4766 b- defN 23-Feb-15 17:18 px/px_pager.py
 -rw-r--r--  2.0 unx     3970 b- defN 22-May-28 16:40 px/px_poller.py
--rw-r--r--  2.0 unx    15747 b- defN 23-Feb-16 05:53 px/px_process.py
+-rw-r--r--  2.0 unx    15747 b- defN 23-May-08 05:16 px/px_process.py
 -rw-r--r--  2.0 unx     7550 b- defN 22-Jul-08 16:44 px/px_process_menu.py
 -rw-r--r--  2.0 unx    11754 b- defN 22-Jul-08 16:44 px/px_processinfo.py
--rw-r--r--  2.0 unx    19330 b- defN 22-May-28 16:40 px/px_terminal.py
+-rw-r--r--  2.0 unx    19339 b- defN 23-May-08 05:17 px/px_terminal.py
 -rw-r--r--  2.0 unx    18025 b- defN 23-Feb-16 05:48 px/px_top.py
 -rw-r--r--  2.0 unx      942 b- defN 22-May-27 06:01 px/px_units.py
--rw-r--r--  2.0 unx       66 b- defN 23-Feb-16 17:49 px/version.py
--rw-r--r--  2.0 unx     1094 b- defN 23-Feb-16 17:50 pxpx-3.2.0.dist-info/LICENSE
--rw-r--r--  2.0 unx    18362 b- defN 23-Feb-16 17:50 pxpx-3.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Feb-16 17:50 pxpx-3.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       53 b- defN 23-Feb-16 17:50 pxpx-3.2.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        3 b- defN 23-Feb-16 17:50 pxpx-3.2.0.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 22-May-26 15:40 pxpx-3.2.0.dist-info/zip-safe
-?rw-rw-r--  2.0 unx     2304 b- defN 23-Feb-16 17:50 pxpx-3.2.0.dist-info/RECORD
-31 files, 187566 bytes uncompressed, 59537 bytes compressed:  68.3%
+-rw-r--r--  2.0 unx       66 b- defN 23-May-08 16:53 px/version.py
+-rw-r--r--  2.0 unx     1094 b- defN 23-May-08 16:53 pxpx-3.3.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx    18904 b- defN 23-May-08 16:53 pxpx-3.3.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-08 16:53 pxpx-3.3.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       53 b- defN 23-May-08 16:53 pxpx-3.3.0.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        3 b- defN 23-May-08 16:53 pxpx-3.3.0.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 22-May-26 15:40 pxpx-3.3.0.dist-info/zip-safe
+?rw-rw-r--  2.0 unx     2304 b- defN 23-May-08 16:53 pxpx-3.3.0.dist-info/RECORD
+31 files, 189468 bytes uncompressed, 60004 bytes compressed:  68.3%
```

## zipnote {}

```diff
@@ -66,29 +66,29 @@
 
 Filename: px/px_units.py
 Comment: 
 
 Filename: px/version.py
 Comment: 
 
-Filename: pxpx-3.2.0.dist-info/LICENSE
+Filename: pxpx-3.3.0.dist-info/LICENSE
 Comment: 
 
-Filename: pxpx-3.2.0.dist-info/METADATA
+Filename: pxpx-3.3.0.dist-info/METADATA
 Comment: 
 
-Filename: pxpx-3.2.0.dist-info/WHEEL
+Filename: pxpx-3.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: pxpx-3.2.0.dist-info/entry_points.txt
+Filename: pxpx-3.3.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: pxpx-3.2.0.dist-info/top_level.txt
+Filename: pxpx-3.3.0.dist-info/top_level.txt
 Comment: 
 
-Filename: pxpx-3.2.0.dist-info/zip-safe
+Filename: pxpx-3.3.0.dist-info/zip-safe
 Comment: 
 
-Filename: pxpx-3.2.0.dist-info/RECORD
+Filename: pxpx-3.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## px/px_commandline.py

```diff
@@ -1,14 +1,14 @@
 """Extract information from command lines"""
 
 import re
 import os.path
 import logging
 
-from typing import Callable, List, Optional
+from typing import List, Optional
 
 LOG = logging.getLogger(__name__)
 
 
 # Match "[kworker/0:0H]", no grouping
 LINUX_KERNEL_PROC = re.compile("^\\[[^/ ]+/?[^/ ]+\\]$")
 
@@ -74,24 +74,21 @@
     for path_component in to_array(commandline)[0].split("/"):
         if path_component.endswith(".app"):
             return path_component[:-4]
 
     return None
 
 
-def faillog(parser: Callable[..., Optional[str]], commandline: str, *args) -> str:
+def faillog(commandline: str, parse_result: Optional[str]) -> str:
     """
-    Call parser with commandline and the rest as arguments.
-
     If successful, just return the result. If unsuccessful log the problem and
     return the VM name.
     """
-    result: Optional[str] = parser(commandline, *args)
-    if result:
-        return result
+    if parse_result:
+        return parse_result
 
     LOG.debug("Parsing failed, using fallback: <%s>", commandline)
 
     vm = os.path.basename(to_array(commandline)[0])
     return vm
 
 
@@ -110,67 +107,94 @@
 
     if OSX_PARENTHESIZED_PROC.match(commandline):
         return commandline
 
     command = os.path.basename(to_array(commandline)[0])
 
     if command.startswith("python") or command == "Python":
-        return faillog(get_python_command, commandline)
+        return faillog(commandline, get_python_command(commandline))
 
     if command == "Electron":
         clarified = try_clarify_electron(commandline)
         if clarified:
             return clarified
 
     if command == "java":
-        return faillog(get_java_command, commandline)
+        return faillog(commandline, get_java_command(commandline))
 
     if command == "ruby":
         # Switches list inspired by ruby 2.3.7p456 --help output
         return faillog(
-            get_generic_script_command,
             commandline,
-            [
-                "-a",
-                "-d",
-                "--debug",
-                "--disable",
-                #
-                # Quickfix for #74, better implementations welcome!
-                # https://github.com/walles/px/issues/74
-                "-Eascii-8bit:ascii-8bit",
-                #
-                "-l",
-                "-n",
-                "-p",
-                "-s",
-                "-S",
-                "-v",
-                "--verbose",
-                "-w",
-                "-W0",
-                "-W1",
-                "-W2",
-                "--",
-            ],
+            get_generic_script_command(
+                commandline,
+                ignore_switches=[
+                    "-a",
+                    "-d",
+                    "--debug",
+                    "--disable",
+                    #
+                    # Quickfix for #74, better implementations welcome!
+                    # https://github.com/walles/px/issues/74
+                    "-Eascii-8bit:ascii-8bit",
+                    #
+                    "-l",
+                    "-n",
+                    "-p",
+                    "-s",
+                    "-S",
+                    "-v",
+                    "--verbose",
+                    "-w",
+                    "-W0",
+                    "-W1",
+                    "-W2",
+                    "--",
+                ],
+            ),
         )
 
     if command == "sudo":
-        return faillog(get_sudo_command, commandline)
+        return faillog(commandline, get_sudo_command(commandline))
+
+    if command in [
+        # NOTE: This list contains binaries that are mostly used with
+        # subcommands. Scripts (like brew.rb) are handled in
+        # get_generic_script_command().
+        #
+        # "gradle" and "mvn" are not handled at all, could be added to
+        # get_java_command().
+        "apt-get",
+        "apt",
+        "cargo",
+        "docker",
+        "docker-compose",
+        "git",
+        "go",
+        "npm",
+        "pip",
+        "pip3",
+        "rustup",
+        "terraform",
+    ]:
+        return faillog(commandline, get_with_subcommand(commandline))
 
     if command == "node":
         return faillog(
-            get_generic_script_command, commandline, ["--max_old_space_size"]
+            commandline,
+            get_generic_script_command(
+                commandline, ignore_switches=["--max_old_space_size"]
+            ),
         )
 
     if command in ["bash", "sh"]:
-        return faillog(get_generic_script_command, commandline)
+        return faillog(commandline, get_generic_script_command(commandline))
 
     if PERL_BIN.match(command):
-        return faillog(get_generic_script_command, commandline)
+        return faillog(commandline, get_generic_script_command(commandline))
 
     app_name_prefix = get_app_name_prefix(commandline)
     if is_human_friendly(command):
         # Already human friendly, prefer keeping it short
         app_name_prefix = ""
 
     if len(command) < 25:
@@ -246,14 +270,27 @@
     if without_sudo.startswith("-"):
         # Give up on options
         return None
 
     return "sudo " + get_command(without_sudo)
 
 
+def get_with_subcommand(commandline: str) -> Optional[str]:
+    array = to_array(commandline)
+    command = os.path.basename(array[0])
+
+    if len(array) == 1:
+        return command
+
+    if array[1].startswith("-"):
+        return command
+
+    return f"{command} {array[1]}"
+
+
 def prettify_fully_qualified_java_class(class_name: str) -> str:
     split = class_name.split(".")
     if len(split) == 1:
         return split[-1]
 
     if split[-1] == "Main":
         # Attempt to make "Main" class names more meaningful
@@ -356,12 +393,24 @@
     while len(array) > 1 and array[1].split("=")[0] in ignore_switches:
         del array[1]
 
     vm = os.path.basename(array[0])
     if len(array) == 1:
         return vm
 
+    script = os.path.basename(array[1])
     if array[1].startswith("-"):
         # Unknown option, help!
         return None
 
-    return os.path.basename(array[1])
+    if len(array) == 2:
+        # vm + script
+        return script
+    if script not in ["brew.rb", "yarn.js"]:
+        return script
+
+    subcommand = array[2]
+    if subcommand.startswith("-"):
+        # Unknown option before the subcommand
+        return script
+
+    return f"{script} {subcommand}"
```

## px/px_load.py

```diff
@@ -5,15 +5,15 @@
 """
 
 import os
 
 from . import px_cpuinfo
 from . import px_terminal
 
-from typing import Tuple
+from typing import Tuple, Optional
 
 
 physical, logical = px_cpuinfo.get_core_count()
 physical_string = px_terminal.bold(str(physical) + " cores")
 cores_string = f"[{physical_string} | {logical} virtual]"
 
 
@@ -80,15 +80,15 @@
     avg0to1 = avg1
     avg1to5 = (5 * avg5 - avg1) / 4.0
     avg5to15 = (15 * avg15 - 5 * avg5) / 10.0
 
     return (avg0to1, avg1to5, avg5to15)
 
 
-def get_load_string(load_values: Tuple[float, float, float] = None) -> str:
+def get_load_string(load_values: Optional[Tuple[float, float, float]] = None) -> str:
     """
     Example return string, underlines indicate bold:
     "1.5  [4 cores | 8 virtual]  [15m history: GRAPH]"
      ^^^   ^^^^^^^                                  ^^^^^
 
     Load number is color coded:
     * <= physical core count: Green
```

## px/px_terminal.py

```diff
@@ -115,15 +115,15 @@
                 continue
 
             # Non-EINTR exceptions are unexpected, help!
             raise
 
 
 def getch(
-    timeout_seconds: Optional[int] = None, fd: int = None
+    timeout_seconds: Optional[int] = None, fd: Optional[int] = None
 ) -> Optional[ConsumableString]:
     """
     Wait at most timeout_seconds for a character to become available on stdin.
 
     Returns the character, or None on timeout.
     """
     if fd is None:
@@ -215,15 +215,14 @@
         else:
             filtered.append(line)
 
     return filtered
 
 
 def draw_screen_lines(lines: List[str], columns: int) -> None:
-
     unfiltered_screen_lines = raw_lines_to_screen_lines(lines, columns)
     screen_lines = filter_out_unchanged_screen_lines(unfiltered_screen_lines, columns)
 
     screenstring = CURSOR_TO_TOP_LEFT
     skip_lines = 0
     for screen_line in screen_lines:
         if screen_line is None:
```

## px/version.py

```diff
@@ -1,2 +1,2 @@
 # NOTE: Auto generated by setup.py, no touchie!
-VERSION = "3.2.0"
+VERSION = "3.3.0"
```

## Comparing `pxpx-3.2.0.dist-info/LICENSE` & `pxpx-3.3.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `pxpx-3.2.0.dist-info/METADATA` & `pxpx-3.3.0.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pxpx
-Version: 3.2.0
+Version: 3.3.0
 Summary: ps and top for Human Beings
 Home-page: https://github.com/walles/px
 Author: Johan Walles
 Author-email: johan.walles@gmail.com
 License: MIT
 Platform: UNKNOWN
 Classifier: Development Status :: 5 - Production/Stable
@@ -34,33 +34,42 @@
 processes running in the background"?
 
 Output
 ======
 
 ``ptop``
 --------
+
+If you're coming from ``htop`` or some other ``top`` variant, here's what to
+expect from ``ptop``, with explanations below the screenshot:
+
 |ptop screenshot|
 
-* Note how the default sort order of CPU-usage-since-``ptop``-started makes the
-  display mostly stable.
 * Note the core count right next to the system load number, for easy comparison.
-* Note the load history graph next to the load numbers. On this system the
-  load went up during the last minute. This is a visualization of the numbers
+* Note the load history graph next to the load numbers. On this system the load
+  has been high for the last 15 minutes. This is a visualization of the numbers
   you get from ``uptime``.
-* Note the ``IO Load`` number, this shows which IO device had the highest
-  average throughput since ``ptop`` launched.
+* Note the bars showing which programs / users are using your memory below the
+  memory numbers
+* Note the ``IO Load`` number, showing which IO device had the highest average
+  throughput since ``ptop`` launched.
+* Note how the default sort order of CPUTIME-since-``ptop``-started makes the
+  display mostly stable and enables you to sort by CPU usage.
 * Note that binaries launched while ``ptop`` is running are listed at the bottom
   of the display.
-* Note the visualization of which programs / users are using your memory below
-  the memory numbers
+* Note how the Python program on the second to last line is shown as
+  ``run_adapter.py`` (the program) rather than ``python3`` (the runtime). `This
+  support is available for many VMs`_ like Java, Node, ...
 * Selecting a process with Enter will offer you to see detailed information
   about that process, in ``$PAGER``, `moar`_ or ``less``. Or to kill it.
 * After you press ``q`` to quit, the display is retained and some lines at the
   bottom are removed to prevent the information you want from scrolling out of
   view.
+* A help text on the bottom hints you how to search / filter (interactively),
+  change sort order or how to pick processes for further inspection or killing.
 
 ``px``
 -------------
 Running just ``px`` lists all running processes, with the most interesting ones last.
 Output truncated for brevity.
 
 ::
```

## Comparing `pxpx-3.2.0.dist-info/RECORD` & `pxpx-3.3.0.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -1,31 +1,31 @@
 px/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 px/px.py,sha256=iAWrVmPpg_aDgagt_vukxCIa9GS6JmVjz5tkg2U2V34,8089
 px/px_category_bar.py,sha256=2PevCOu9jajbSZGrt45zTzrh330eg-Nr9kHFz93pAWM,4304
-px/px_commandline.py,sha256=rQxJf4RhMcq4YhlravTgXgJ1v-8h2ihLh3xNgiXZpBQ,10546
+px/px_commandline.py,sha256=Qi7GwfiW3v1mVAkD64mjuyXRXvV0RskaFtwD2K9mHEw,11877
 px/px_cpuinfo.py,sha256=2Lmd3S-OQdI-MeI7iBQbeQIf9XPgciD5W_k87VletL0,3110
 px/px_cwdfriends.py,sha256=Jukoqspeq1zq0RCH_4WisIm3Ows7JMisJXDPKVZai9o,2253
 px/px_exec_util.py,sha256=QLsE978l6TnWAO0Wh-h6bCL4U0XczHbyO4CoUlpsfks,661
 px/px_file.py,sha256=71aZtNfOtiXrbwm7jeZOMmo2gXrnsL7K7vMjKAHE_PE,8678
 px/px_install.py,sha256=ftW67wX4kfr1iccd2zobBV--RL1PXVv0D8Mw0qyB81c,1345
 px/px_ioload.py,sha256=xmJbWMw9igi0JcCz4ieRHWtm_iAQOS_nj500cAeAhXo,11742
 px/px_ipc_map.py,sha256=wJg2_Gc5EFJdew37-57-HBZEb_OHKcavh5reJpOSklY,11553
 px/px_launchcounter.py,sha256=lzo7CkTuRcVLFKEtiDi5koAkB59fdf8YIkux-xd-ilY,4776
-px/px_load.py,sha256=3ngXsdZ2gNDqMpBwOzEGqFzO-OR9XJMBIgfnHQ1bnKQ,3394
+px/px_load.py,sha256=b89ldU-JJfUAI55_mx9UpVILZhQjHFDYbGSVCnC_fkY,3414
 px/px_loginhistory.py,sha256=IfQk8sTUhw9u2bJqQFsr8s3KQwKp7aZ4zX-iOoCHJNs,4578
 px/px_meminfo.py,sha256=6wAOML3BVF-kt3zBygNM5i2h7TXEvAAu5hnJtBpCQq0,8478
 px/px_pager.py,sha256=xqnYfeDO9DAWaPHluTAfF5zvzqi7-JfOg5JRXKJBxh8,4766
 px/px_poller.py,sha256=GVBOxpvnA8yslRDvXZJeydGuEmPGTjsNR8btjnB4qM8,3970
 px/px_process.py,sha256=GmUg2czg1_lBjt3M2NzebZbQYN8OUzprew9lrSrFk7o,15747
 px/px_process_menu.py,sha256=cciKSN_F9SZplBxnyhq9vvU0y1conFk1tL4fAQrTRZY,7550
 px/px_processinfo.py,sha256=qFRL6VPxuvDw4EoovmVf8PURd5-MkySeUMyuDQv7kqQ,11754
-px/px_terminal.py,sha256=FLI4JRJ-FRn7dUezfUFN5i2EIqJJ9x-sAbWYPHEP_0c,19330
+px/px_terminal.py,sha256=Sz9HE0oDFwi_u5HqFamYG7KZgp4rtX43S25tF2DqJho,19339
 px/px_top.py,sha256=A1BSdnjQbLo6TIeHKPfVpkbhIlBBLlGTFsVEkKGjbTE,18025
 px/px_units.py,sha256=HpHus4Ot4z-c5kMV-5FqZd747cLDtdG2soJWtwBuGnA,942
-px/version.py,sha256=NIvzo9KlXP2jNSvZMTiUbXHCEFEtmSOz-mvHzkYj1HA,66
-pxpx-3.2.0.dist-info/LICENSE,sha256=7W7sgUQu120pXSqq2ybvrWTAEyyaeT8Wu_qJUlg7BcE,1094
-pxpx-3.2.0.dist-info/METADATA,sha256=tgaj1wo6l3AxlTyiRJG4_-oCitMwYWHjS5XXg5WqXp0,18362
-pxpx-3.2.0.dist-info/WHEEL,sha256=EVRjI69F5qVjm_YgqcTXPnTAv3BfSUr0WVAHuSP3Xoo,92
-pxpx-3.2.0.dist-info/entry_points.txt,sha256=FZ1Cao1FsEI-H9xwLDn7_6yxtdUmVb6jAHRJjbhX9fo,53
-pxpx-3.2.0.dist-info/top_level.txt,sha256=3gs8gAb03eIFb1FJsz3xkkSeYk2pStyebCcspLBXlhI,3
-pxpx-3.2.0.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-pxpx-3.2.0.dist-info/RECORD,,
+px/version.py,sha256=PR0d_hPVPKCbpWD_O7x-dXV4MlzGLuKi34snJhAhR8Q,66
+pxpx-3.3.0.dist-info/LICENSE,sha256=7W7sgUQu120pXSqq2ybvrWTAEyyaeT8Wu_qJUlg7BcE,1094
+pxpx-3.3.0.dist-info/METADATA,sha256=bn91AZiP9okLAfLPTUQV6No9Tm1PjmMYHaGeNeFaoEM,18904
+pxpx-3.3.0.dist-info/WHEEL,sha256=EVRjI69F5qVjm_YgqcTXPnTAv3BfSUr0WVAHuSP3Xoo,92
+pxpx-3.3.0.dist-info/entry_points.txt,sha256=FZ1Cao1FsEI-H9xwLDn7_6yxtdUmVb6jAHRJjbhX9fo,53
+pxpx-3.3.0.dist-info/top_level.txt,sha256=3gs8gAb03eIFb1FJsz3xkkSeYk2pStyebCcspLBXlhI,3
+pxpx-3.3.0.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+pxpx-3.3.0.dist-info/RECORD,,
```

